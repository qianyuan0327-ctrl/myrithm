<!DOCTYPE html>
<html>
<head>
  <title>Vashavahi</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 600px;
    }
    textarea {
      width: 100%;
      height: 100px;
      padding: 8px;
      font-size: 16px;
      margin-bottom: 10px;
    }
    button {
      padding: 8px 14px;
      font-size: 16px;
      cursor: pointer;
      margin-right: 8px;
    }
    .container {
      display: flex;
      gap: 20px;
    }
    .box {
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    #result {
      border: 1px solid #ccc;
      min-height: 100px;
      padding: 8px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>

<h2>Ashvahi Sentence Translator</h2>

<button id="switchBtn">Mode: English → Ashvahi</button>

<div class="container">
  <div class="box">
    <h3>Input</h3>
    <textarea id="inputText" placeholder="Enter a sentence..."></textarea>
  </div>

  <div class="box">
    <h3>Output</h3>
    <div id="result"></div>
  </div>
</div>

<button id="translateBtn">Translate</button>
<br>
<a href="/myrithm/ashvahi.html">
  <button>Back</button>
</a>


<script>
  const dictionary = {
    // Template:         "": { en: [""], phon: "" },
    //Core words
    "vahi": { en: ["communication", "language"], phon: "vahey" },
    "ash": { en: ["original", "first"], phon: "aash" },
    //Pronouns
    "esh": { en: ["i"], phon: "eh-sh" },
    "eshus": { en: ["we"], phon: "eh-shus" },
    "vek": { en: ["you"], phon: "vek" },
    "vekus": { en: ["you"], phon: "ve-kus" },
    "lyn": { en: ["they", "he", "she"], phon: "leen" },
    "lynus": { en: ["they"], phon: "lee-nus" },
    //Verbs
    "mar": { en: ["eat"], phon: "mar" },
    "vor": { en: ["go"], phon: "vor" },
    "sav": { en: ["speak"], phon: "sav" },
    "lum": { en: ["see"], phon: "loom" },
    "thal": { en: ["want"], phon: "thal" },
    "kren": { en: ["take"], phon: "kren" },
    "es": { en: ["be", "am", "is", "are"], phon: "es" },
    "ha": { en: ["have"], phon: "ha" },
    "l'": { en: ["will"], phon: "li" },
    "plor": { en: ["run"], phon: "pl-or" },
    "dran": { en: ["sit"], phon: "dran" },
    "klav": { en: ["write"], phon: "klav" },
    "trul": { en: ["throw"], phon: "trul" },
    "grak": { en: ["build"], phon: "grak" },
    "zel": { en: ["grow"], phon: "zel" },
    "skol": { en: ["learn"], phon: "sk-ol" },
    "brul": { en: ["break"], phon: "br-ul" },
    "am'r": { en: ["love"], phon: "a-myr" },
    //Nouns
    "far": { en: ["food"], phon: "far" },
    "dom": { en: ["home", "house"], phon: "dom" },
    "sol": { en: ["sun"], phon: "sol" },
    "lun": { en: ["moon"], phon: "lun" },
    "acq": { en: ["water"], phon: "ahk" },
    "lur": { en: ["friend"], phon: "loor" },
    "fyr": { en: ["fire"], phon: "feer" },
    "vasha": { en: ["book"], phon: "vasha" },
    "gruk": { en: ["mountain"], phon: "gr-uk" },
    "vorak": { en: ["river"], phon: "vor-ak" },
    "zel'ka": { en: ["forest"], phon: "zely-ka" },
    "bruk": { en: ["wall"], phon: "bruk" },
    "dranul": { en: ["field"], phon: "dra-nul" },
    "skovar": { en: ["kitchen"], phon: "sko-var" },
    "plovha": { en: ["boat"], phon: "plov-ha" },
    "krut": { en: ["storm"], phon: "k-rut" },
    "m'sul": { en: ["village"], phon: "my-sul" },
    "trek": { en: ["street"], phon: "trek" },
    "boruk": { en: ["tree"], phon: "bor-uk" },
    "sol'kap": { en: ["spring (season)"], phon: "soly-kap" },
    "lun'kap": { en: ["winter"], phon: "luny-kap" },
    "klum": { en: ["wind"], phon: "kl-um" },
    "chorn": { en: ["dark"], phon: "cho-rn" },
    "kap": { en: ["day"], phon: "kap"},
    "imel": { en: ["now"], phon: "yee-mel" },
    "kapimel": { en: ["today"], phon: "kapi-mel" },
    //Connectives
    "en": { en: ["and"], phon: "en" },
    "vel": { en: ["or"], phon: "vel" },
    "ne": { en: ["not"], phon: "ne" },
    "narek": { en: ["because"], phon: "nah-reck" },
    //Prepositions
    "nar": { en: ["inside", "in", "at"], phon: "nar" },
    "eksar": { en: ["outside", "out"], phon: "ek-sar" },
    "kl'r": { en: ["question:"], phon: "klyr" },
    //Greetings
    "suvahi": { en: ["hello"], phon: "soo-va-hee" },
    "lurashnelum": { en: ["goodbye"], phon: "loor-ash-ne-loom" },
    //Numbers
    "un": { en: ["one"], phon: "oon" },
    "du": { en: ["two"], phon: "doo" },
    "tre": { en: ["three"], phon: "treh" },
    "kvar": { en: ["four"], phon: "kvar" },
    "pen": { en: ["five"], phon: "pen" },
    "hex": { en: ["six"], phon: "heks" },
    "sev": { en: ["seven"], phon: "sev" },
    "okt": { en: ["eight"], phon: "okt" },
    "nin": { en: ["nine"], phon: "neen" },
    "nul": { en: ["zero"], phon: "nool" }
  };

  let mode = "enToAsh";

  function translateSentence() {
  const input = document.getElementById("inputText").value.trim();
  const words = input.toLowerCase().replace(/[.,!?]/g, "").split(/\s+/);
  const singleWord = words.length === 1;

  let output = [];
  let unknownWords = [];

  if (mode === "enToAsh") {
    words.forEach(word => {
      let found = false;

      let isPlural = word.endsWith("s");
      let baseWord = isPlural ? word.slice(0, -1) : word;

      for (let ash in dictionary) {
        if (dictionary[ash].en.includes(baseWord)) {
          let translated = isPlural ? ash + "us" : ash;

          if (singleWord) {
            let phon = dictionary[ash].phon;
            if (isPlural) phon += "-oos";
            output.push(`${translated} /${phon}/`);
          } else {
            output.push(translated);
          }

          found = true;
          break;
        }
      }

      if (!found) {
        output.push("___");
        unknownWords.push(word);
      }
    });

  } else {
    words.forEach(word => {

    word = word.replace(/[’‘]/g, "'");

    let isPlural = word.endsWith("us");
    let baseWord = isPlural ? word.slice(0, -2) : word;

    let found = false;

    for (let ash in dictionary) {
      if (ash === baseWord || dictionary[ash].en.includes(baseWord)) {
        let english = dictionary[ash].en[0];
        output.push(isPlural ? english + "s" : english);
        found = true;
        break;
      }
    }

    if (!found) {
      output.push("___");
      unknownWords.push(word);
    }
  });

  let finalText = output.join(" ");

  if (unknownWords.length > 0) {
    finalText += "\n\nUnknown word(s): " + unknownWords.join(", ");
  }

  document.getElementById("result").textContent = finalText;
}

  document.getElementById("translateBtn")
    .addEventListener("click", translateSentence);

  document.getElementById("switchBtn")
    .addEventListener("click", function () {
      if (mode === "enToAsh") {
        mode = "ashToEn";
        this.textContent = "Mode: Ashvahi → English";
      } else {
        mode = "enToAsh";
        this.textContent = "Mode: English → Ashvahi";
      }
      document.getElementById("result").textContent = "";
    });
</script>

</body>
</html>
