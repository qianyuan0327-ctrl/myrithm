<!DOCTYPE html>
<html>
<head>
  <title>Vashavahi</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 600px;
    }
    textarea {
      width: 100%;
      height: 100px;
      padding: 8px;
      font-size: 16px;
      margin-bottom: 10px;
    }
    button {
      padding: 8px 14px;
      font-size: 16px;
      cursor: pointer;
      margin-right: 8px;
    }
    #result {
      margin-top: 15px;
      font-weight: bold;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>

<h2>Ashvahi Sentence Translator</h2>

<button id="switchBtn">Mode: English → Ashvahi</button>

<textarea id="inputText" placeholder="Enter a sentence..."></textarea>
<br>
<button id="translateBtn">Translate</button>
<br>
<a href="/myrithm/ashvahi.html">
  <button>Back</button>
</a>

<div id="result"></div>

<script>
  const dictionary = {
    "vahi": { en: ["communication", "language"], phon: "vahey" },
    "ash": { en: ["original", "first"], phon: "aash" },

    "esh": { en: ["i"], phon: "eh-sh" },
    "eshus": { en: ["we"], phon: "eh-shus" },
    "vek": { en: ["you"], phon: "vek" },
    "vekus": { en: ["you"], phon: "ve-kus" },
    "lyn": { en: ["they", "he", "she"], phon: "leen" },
    "lynus": { en: ["they"], phon: "lee-nus" },

    "mar": { en: ["eat"], phon: "mar" },
    "vor": { en: ["go"], phon: "vor" },
    "sav": { en: ["speak"], phon: "sav" },
    "lum": { en: ["see"], phon: "luum" },
    "thal": { en: ["want"], phon: "th-al" },
    "kren": { en: ["take"], phon: "kren" },
    "es": { en: ["be", "am", "is", "are"], phon: "es" },
    "ha": { en: ["have"], phon: "ha" },

    "far": { en: ["food"], phon: "far" },
    "dom": { en: ["home", "house"], phon: "dom" },
    "sol": { en: ["sun"], phon: "sol" },
    "lun": { en: ["moon"], phon: "lun" },
    "acq": { en: ["water"], phon: "ahk" },
    "lur": { en: ["friend"], phon: "loor" },
    "fyr": { en: ["fire"], phon: "feer" },
    "vasha": { en: ["book"], phon: "vasha" },

    "en": { en: ["and"], phon: "en" },
    "vel": { en: ["or"], phon: "vel" },
    "ne": { en: ["not"], phon: "ne" },
    "narek": { en: ["because"], phon: "nah-reck" },

    "nar": { en: ["inside", "in", "at"], phon: "nar" },
    "eksar": { en: ["outside", "out"], phon: "ek-sar" },

    "suhavi": { en: ["hello"], phon: "soo-va-hee" },
    "lurashnelum": { en: ["goodbye"], phon: "loor-ash-ne-loom" },

    "un": { en: ["one"], phon: "oon" },
    "du": { en: ["two"], phon: "doo" },
    "tre": { en: ["three"], phon: "treh" },
    "kvar": { en: ["four"], phon: "kvar" },
    "pen": { en: ["five"], phon: "pen" },
    "hex": { en: ["six"], phon: "heks" },
    "sev": { en: ["seven"], phon: "sev" },
    "okt": { en: ["eight"], phon: "okt" },
    "nin": { en: ["nine"], phon: "neen" },
    "nul": { en: ["zero"], phon: "nool" }
  };

  let mode = "enToAsh";

  function translateSentence() {
    const input = document.getElementById("inputText").value.trim();
    const words = input.toLowerCase().replace(/[.,!?]/g, "").split(/\s+/);
    const singleWord = words.length === 1;

    let output = [];

    if (mode === "enToAsh") {
      words.forEach(word => {
        let found = false;

        // Handle English plural (ends with s)
        let isPlural = word.endsWith("s");
        let baseWord = isPlural ? word.slice(0, -1) : word;

        for (let ash in dictionary) {
          if (dictionary[ash].en.includes(baseWord)) {
            let translated = isPlural ? ash + "us" : ash;

            if (singleWord) {
              let phon = dictionary[ash].phon;
              if (isPlural) {
                phon = phon.replace(/$/, "-oos");
              }
              output.push(`${translated} /${phon}/`);
            }

            found = true;
            break;
          }
        }

        if (!found) output.push("___");
      });

    } else { // Ashvahi → English

      words.forEach(word => {
        let isPlural = word.endsWith("us");
        let baseWord = isPlural ? word.slice(0, -2) : word;

        if (dictionary[baseWord]) {
          let english = dictionary[baseWord].en[0];
          output.push(isPlural ? english + "s" : english);
        } else {
          output.push("___");
        }
      });
    }

    document.getElementById("result").textContent = output.join(" ");
  }

  document.getElementById("translateBtn")
    .addEventListener("click", translateSentence);

  document.getElementById("switchBtn")
    .addEventListener("click", function () {
      if (mode === "enToAsh") {
        mode = "ashToEn";
        this.textContent = "Mode: Ashvahi → English";
      } else {
        mode = "enToAsh";
        this.textContent = "Mode: English → Ashvahi";
      }
      document.getElementById("result").textContent = "";
    });
</script>

</body>
</html>
